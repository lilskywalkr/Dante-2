/*
 * Unit Test Bootstrap
 * Autor: Tomasz Jaworski, 2018-2020
 *
 * Test dla zadania Kopiowanie i wyświetlanie tablicy
 * Autor testowanej odpowiedzi: Ronald Frangulyan
 * Test wygenerowano automatycznie o 2022-02-23 18:03:15.005593
 *
 * Debug: 
 */


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <stdint.h>
#include <signal.h>
#include <setjmp.h>
#include <assert.h>

#if !defined(__clang__) && !defined(__GNUC__)
// Zakomentuj poniższy błąd, jeżeli chcesz przetestować testy na swoim kompilatorze C.
#error System testow jednostkowych jest przeznaczony dla kompilatorów GCC/Clang.
#endif

#if defined(_WIN32) || defined(_WIN64) || defined(__CYGWIN__)
// Zakomentuj poniższy błąd, jeżeli chcesz przetestować testy na platformie Windows.
#error System testow jednostkowych NIE jest przeznaczony dla testów uruchamianych na platformach Windows.
#endif

#define _RLDEBUG_API_
#include "unit_helper_v2.h"
#include "rdebug.h"

#include "tested_declarations.h"
#include "rdebug.h"

//
// Elementy globalne dla całego testu
//




//
//  Test 1: Sprawdzanie poprawności działania funkcji create_array_int
//
void UTEST1(void)
{
    // informacje o teście
    test_start(1, "Sprawdzanie poprawności działania funkcji create_array_int", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    
    //
    // -----------
    //
    

                printf("#####START#####");
                int *ptr = create_array_int(-95);
                printf("#####END#####");

                test_error(ptr == NULL, "Funkcja create_array_int() powinna zwrócić NULL");
                

                test_no_heap_leakage();
                onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)

            
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}

//
//  Test 2: Sprawdzanie poprawności działania funkcji create_array_int
//
void UTEST2(void)
{
    // informacje o teście
    test_start(2, "Sprawdzanie poprawności działania funkcji create_array_int", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    
    //
    // -----------
    //
    

                printf("#####START#####");
                int *ptr = create_array_int(0);
                printf("#####END#####");

                test_error(ptr == NULL, "Funkcja create_array_int() powinna zwrócić NULL");
                

                test_no_heap_leakage();
                onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)

            
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}

//
//  Test 3: Sprawdzanie poprawności działania funkcji create_array_int
//
void UTEST3(void)
{
    // informacje o teście
    test_start(3, "Sprawdzanie poprawności działania funkcji create_array_int", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    
    //
    // -----------
    //
    

                printf("#####START#####");
                int *ptr = create_array_int(11);
                printf("#####END#####");

                test_error(ptr != NULL, "Funkcja create_array_int() powinna zwrócić adres zaalokowanej pamięci, a zwróciła NULL");
                free(ptr);

                test_no_heap_leakage();
                onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)

            
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}

//
//  Test 4: Sprawdzanie reakcji funkcji create_array_int na limit pamięci (limit sterty ustawiono na 116 bajtów)
//
void UTEST4(void)
{
    // informacje o teście
    test_start(4, "Sprawdzanie reakcji funkcji create_array_int na limit pamięci (limit sterty ustawiono na 116 bajtów)", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    rldebug_heap_set_global_limit(116);
    
    //
    // -----------
    //
    

                printf("#####START#####");
                int *ptr = create_array_int(29);
                printf("#####END#####");

                test_error(ptr != NULL, "Funkcja create_array_int() powinna zwrócić adres zaalokowanej pamięci, a zwróciła NULL");
                free(ptr);

                test_no_heap_leakage();
                onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)

            
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}

//
//  Test 5: Sprawdzanie reakcji funkcji create_array_int na limit pamięci (limit sterty ustawiono na 93 bajtów)
//
void UTEST5(void)
{
    // informacje o teście
    test_start(5, "Sprawdzanie reakcji funkcji create_array_int na limit pamięci (limit sterty ustawiono na 93 bajtów)", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    rldebug_heap_set_global_limit(93);
    
    //
    // -----------
    //
    

                printf("#####START#####");
                int *ptr = create_array_int(29);
                printf("#####END#####");

                test_error(ptr == NULL, "Funkcja create_array_int() powinna zwrócić NULL");

                test_no_heap_leakage();
                onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)
            
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}

//
//  Test 6: Sprawdzanie poprawności działania funkcji copy_array_int
//
void UTEST6(void)
{
    // informacje o teście
    test_start(6, "Sprawdzanie poprawności działania funkcji copy_array_int", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    
    //
    // -----------
    //
    
        
                int array[] = {40, 46, 52, 24, -100, -95, -72, 43, 11, 35, -33, -55, -18, 30, 62, -6, -74, 68, 15, 21, -39, 46, 1, -97, 51, 26, 99, 63, 85, 45, 91, 29, -24, 18, -21, 24, -51, -28, 23, 95, -7, -56, 19, 3, -47, -5, -30, 40, -85, -83, -3, -19, -67, -11, 92, -91, 25, -86, -19, 25, -67, -34, 63, -64, -70, -58, -20, 13, -8, 18, -39, 29, -34, -26, 88, -61, 6, 68, -13, 75, -80, 91, 43, 75, 55, 72, 94, 50, 33, -82, -54, -29, 34, 29, -7, -55, 93, 38, -28, -93, 38, -99, -75, 75, -53, 33, 32, 96, -22, -27, 62, 83, -41, 12, 63, 58, 60, 15, 84, -63, -3, 51, 89, -49, -80, -33, 69, 66, -14, -49, 77, -54, 13, 52, 62, -79, -90, 5, 64, -82, -17, 39, 34, 19, 52, 32, 3, -65, 85, -59, -76, -1, -52, -58, -72, 61, -70, -21, 79, 31, -97, -14, 30, -9, -57, -57, -32, -81, -14, 95, 82, -69, -79, -28, -60, 97, -81, -64, 48, -98, -49, 37, 22, 67, 70, 83, -53, -42, -6, -41, 34, 18, 83, -6, -51, 62, -7, -99, 66, 90, -76, 52, 47, -64, -58, -83, 82, -87, -66, 87, 48, 52, -8, 18, -95, -19, -7, -35, -10, -55, -38, 85, -30, -5, 35, -56, 76, 6, 59, -36, 73, 18, 79, -16, 75, -77, -12, -87, -99, -95, 57, -26, 55, -12, 20, 78, -72, 83, 0, -83, -18, -35, -6, -18, 13, 61, 49, -72, 77, -40, -54, 37, -12, 32, 48, 36, 78, -27, -10, 89, 65, -28, 33, 14, 64, -13, -76, 61, -83, 65, -86, -94, 95, 38, 59, 6, 58, -8, -9, 75, 7, 60, -83, 5, 87, -21, 24, 79, -89, -86, -44, -59, 40, -76, -83, 63, 91, -100, 12, 21, 65, -52, -50, 47, -15, 77, -5, -85, -19, -89, -93, -40, -10, -27, -13, -8, -50, 46, 77, 14, -52, 55, -76, 27, -50, -12, -95, 37, 70, 56, -28, 0, -29, -55, 3, -88, -20, 4, 14, -25, 69, 44, 53, -49, 12, 7, 66, 49, 53, 5, -31, -47, 78, 82, -6, -95, -29, -90, 89, 76, 39, -99, 40, -46, -21, 36, 48, -28, 84, 64, 96, -22, 20, 94, 31, -88, 2, -31, 65, -96, -60, -4, 76, -54, 5, -12, -69, -92, 13, -27, -47, -46, -99, -99, 72, -31, -37, -79, -10, -7, 25, -90, -61, 58, 11, -65, -42, 22, 35, 23, 24, -71, 99, 6, -57, -93, 81, -65, -43, 26, 94, -86, 57, 77, 73, 66, 100, 97, 60, -7, 100, 85, -42, -30, -30, -56, 100, -66, -33, 26, 37, 60, -26, -43, -43, -24, -74, -86, -23, 63, 1, -60, -73, 63, 60, 8, 58, -58, 41, -10, 88, -26, 87, -14, 49, 53, 20, 91, -12, 15, -39, -82, -7, 26, -58, 34, 31, 24, -70, 17, 99, 51, 13, -66, 22, 42, 0, -38, -31, 80, 10, 54, 86, -92, -62, -61, -8, -42, 62, 57, 54, 63, -64, 35, 33, -9, -6, -34, -88, -6, 46, -51, 63, -41, -83, 90, 28, 22, 50, 53, -99, -44, 28, 85, -31, -67, 10, 62, -71, 38, 4, -41, 55, 97, 39, -76, 4, 84, 69, 69, -62, 61, 96, -8, -91, 12, -90, -90, 86, 94, 25, -27, 16, -70, 18, -78, -100, -30, 2, 91, 17, -69, 34, -86, -1, -2, 73, -28, -43, 35, 93, 52, -15, -57, -61, 88, 34, -79, 92, -30, -62, -12, -70, -94, 0, -84, -6, -66, -57, -77, 53, -26, 64, -85, 17, -31, 81, -64, -85, -2, -57, -92, -3, -45, -72, -49, 64, -24, 62, -24, -74, 58, -17, 93, -33, 87, -68, 97, 28, 39, -4, 96, 71, -62, 7, -14, 16, 29, 27, -45, -11, -87, -92, 18, -28, 64, 65, -37, -92, 38, -49, -45, -29, -17, -18, 62, 8, 71, -40, -48, -79, -53, -41, -26, 47, 85, 61, 5, -49, -42, 38, 1, 30, 42, -19, -99, 71, 46, -31, 14, 88, 83, 12, 72, 70, 29, 57, -82, -78, 36, 76, 67, -16, 47, -66, 45, 43, 79, 98, 43, 81, 73, 7, 31, -62, 27, -32, -74, 58, 51, -20, -20, 8, -82, 43, 26, -42, 1, -33, -98, -100, -88, -67, 31, 74, -69, -100, 86, -63, 31, -99, -40, -37, -20, -78, 12, -15, -62, -83, -56, 26, 12, -59, -7, 98, 3, 88, -78, 93, -51, 33, -90, -69, -76, -80, -12, -58, -72, 74, 69, -89, -1, -86, -9, 31, 85, -4, -27, -6, -26, -83, 50, -94, -80, -71, 0, -8, -96, -60, -87, 8, -10, -100, -89, 12, 18, -6, 1, -70, 97, 95, -22, -43, -71, 10, -98, -75, 60, -22, 63, -2, -16, -82, 58, -73, -22, 49, 43, 46, 2, 24, 46, -96, 57, -96, 36, 2, 9, 35, -22, 64, -79, -40, 15, 34, 68, -26, 46, 100, 88, 33, 84, -44, -40, -46, -51, -48, -66, -84, 78, -61, 11, -73, 99, 27, -58, 40, -76, 69, 15, 60, -76, 58, 16, 66, 74, 4, 92, 67, -16, -88, -7, -62, -44, -39, -23, 41, -38, 41, 5, -78, 23, -10, -10, 15, -88, -65, -76, -81, -82, 27, -44, -55, -4, 2, 9, 36, -17, 29, -97, 68, -13, 99, 35, 68, 8, 50, 37, -33, 100, -64, -77, -85, 52, -87, -73, -39, 19, 9, 9, -29, 0, 21, -74, 9, 33, -47, 30, 28, 62, -78, -14, 15, 44, -49, -6, 21, 21, -68, -73, -95, -84, -36, -31, -36, -82, 25, -86, 25, 26, 56, 65, -34, -9, -64, 28, 79, 1, 29, 22, 19, -11, -72, -84, -16, 45, 84, -52, 15, -8, 97, -90, 16, -56, -30, 77, -18, 99, -31, 22, -76, -98, 78, -85, -75, 88, -29, -10, -74, 89, 56, 97, 99, 3, 97, 5, 52, -63, 89, 5, -9, 81, 41, 73, 89, -36, 89, 64, 26, -22, -18, 21, 41, -99, -48, -57, -56, 53, -23, 8, 23, -45, -33, -63, 78, 30, 55, -84, -31, -93, 47, 69, 10, -67, 92, -27, 56, 18, 80, 60, -51, 14, 59, -45, 91, -1, 15, 74, 72, -82, -99, 98, -26, -58, 100, -6, -8, -22, 77, -48, -46, -34, -32, 31, 6, 83, 41, -6, 9, -6, 96, 1, 50, -53, 62, -33, -64, -86, -49, -30, 87, 70, 35, -74, 97, -37, -26, -10, 32, -88, -55, -40, -54, -3, 33, 56, -53, -52, 57, -85, -57, -51, 79, 78, 80, 46, 61, 83, 50, -32, 49, -74, 5, -27, 47, -48, -69, 16, 63, -58, -86, 51, 6, 74, -90, 1, -1, 24, -17, -66, -64, 91, 67, -90, -88, 72, -81, 7, 62, 76, 79, -82, -50, 74, -17, -68, 4, -47, 62, -76, 3, -23, -74, -87, 62, 98, 91, 13, -81, -22, -94, 49, -14, -30, -14, 70, -59, 28, 62, 94, 12, -77, -22, -20, 42, -64, -8, -94, 91, 22, -9, 76, 19, -71, 37, 42, 70, 18, -51, -91, 10, 1, -36, -61, -74, 40, -17, 94, 60, 74, 61, -19, 37, 27, -17, 45, 25, 64, 20, -74, 22, -48, -9, 31, 15, 50, 99, 100, 97, 11, -65, -40, 54, 20, 93, 82, 38, -22, 65, -21, -1, -54, -58, 70, -78, 45, -99, 96, -2, -48, -47, -46, -91, -100, 45, 92, -90, 78, 63, -62, -35, 80, -81, 70, -50, -53, -79, 26, 95, 25, -15, -3, -95, -18, -76, -95, -87, -22, 30, -71, 42, -2, 87, -4, 39, 93, 76, 1, 13, 87, -46, 88, -4, 57, -86, -88, 30, -37, 95, -77, -89, -36, 1, -58, 63, -68, -45, 13, 28, 24, -75, 26, -74, -76, 12, 90, -74, -79, -78, 35, -57, 9, -5, 31, 78, 48, 87, 55, 60, -53, -43, -74, 55, -80, -73, -31, 30, 63, 53, -38, 28, -85, 69, 8, 0, 15, 69, 51, 21, -69, 13, 39, -85, -69, -98, 8, 41, -64, -53, 68, 35, 29, 98, 51, 20, 4, 77, -3, -82, 3, -5, 53, -21, 64, -64, 21, 39, -23, 78, 17, -1, -82, -52, -33, -58, 44, -51, -42, 91, 60, -11, 52, -11, -4, 33, 24, 69, -64, -38, 45, -97, -64, 12, 26, 76, -90, -82, 80, 83, 38, -82, 83, -90, -46, 89, 41, -8, 80, 73, 65, -55, 84, 25, 11, 59, 100, 29, 18, 68, 48, 57, -41, 39, -9, -64, 9, 2, -96, -12, -41, -37, -14, -81, -61, 34, 47, -41, 64, 26, 56, -73, -89, 2, 14, 43, 67, -31, -67, -24, -10, 48, 44, 94, 44, -69, 87, 1, 11, -19, 95, -3, -27, -94, 56, 12, 2, -24, -67, 92, -31, -65, -44, -41, 49, -34, -48, 51, 17, 62, 83, -56, -98, 75, 80, 43, 94, 14, 0, 55, 61, 21, -23, 23, -13, -46, -80, 69, 39, -64, 85, -88, 80, 90, 16, -14, 39, -10, -28, 83, 59, 57, 13, 65, 5, -100, -54, 31, -41, 98, 71, -67, -47, 84, -44, -95, -85, -34, 75, -60, -72, 93, -2, 17, 34, 18, -69, -78, -14, 78, 67, -99, -83, 70, 8, 78, 100, -56, 85, 59, -31, 12, 31, 22, 52, 74, -2, 41, -29, -64, 38, -95, 66, -31, -37, 9, -66, 21, -25, -88, -78, 53, -60, -100, 96, -12, 56, -47, 45, -68, -21, 52, 99, -10, 4, -24, -34, 16, 42, 47, -80, 72, 81, -70, -85, 92, 85, -66, 49, 24, -18, -34, -7, -98, -47, 16, 12, -5, -32, -15, 54, -95, -12, 47, 64, -93, 23, -71, 45, -48, -79, -47, -33, 8, -21, 52, -77, 86, 23, -33, -27, -23, -8, 45, 11, -56, 14, 94, -81, -65, 48, 92, -23, 87, 21, -4, -25, 86, 43};
        
                printf("#####START#####");
                int *ptr = copy_array_int(array, 29);
                printf("#####END#####");
        
                
                
                    test_error(ptr != NULL, "Funkcja copy_array_int() powinna zwrócić adres przydzielonej pamięci, a zwróciła NULL");
                    onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)
                    
                
                
                        test_error(ptr != array, "Funkcja copy_array_int() powinna przydzielić pamięć na nową tablicę i jej adres zwrócić, a zwróciła adres tablicy przekazanej w parametrze");
                        for (int i = 0; i < 29; ++i)
                        {
                            test_error(array[i] == ptr[i], "Funkcja copy_array_int() niepoprawnie skopiowała tablicę, różnica wystąpiła na pozycji %d; powinna być wartość %d, a jest %d", i, array[i], ptr[i]);
                            onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)
                        }                     
                        free(ptr);  
                

        
                test_no_heap_leakage();
                onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)
        
            
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}

//
//  Test 7: Sprawdzanie poprawności działania funkcji copy_array_int
//
void UTEST7(void)
{
    // informacje o teście
    test_start(7, "Sprawdzanie poprawności działania funkcji copy_array_int", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    
    //
    // -----------
    //
    
        
                int array[] = {40, 46, 52, 24, -100, -95, -72, 43, 11, 35, -33, -55, -18, 30, 62, -6, -74, 68, 15, 21, -39, 46, 1, -97, 51, 26, 99, 63, 85, 45, 91, 29, -24, 18, -21, 24, -51, -28, 23, 95, -7, -56, 19, 3, -47, -5, -30, 40, -85, -83, -3, -19, -67, -11, 92, -91, 25, -86, -19, 25, -67, -34, 63, -64, -70, -58, -20, 13, -8, 18, -39, 29, -34, -26, 88, -61, 6, 68, -13, 75, -80, 91, 43, 75, 55, 72, 94, 50, 33, -82, -54, -29, 34, 29, -7, -55, 93, 38, -28, -93, 38, -99, -75, 75, -53, 33, 32, 96, -22, -27, 62, 83, -41, 12, 63, 58, 60, 15, 84, -63, -3, 51, 89, -49, -80, -33, 69, 66, -14, -49, 77, -54, 13, 52, 62, -79, -90, 5, 64, -82, -17, 39, 34, 19, 52, 32, 3, -65, 85, -59, -76, -1, -52, -58, -72, 61, -70, -21, 79, 31, -97, -14, 30, -9, -57, -57, -32, -81, -14, 95, 82, -69, -79, -28, -60, 97, -81, -64, 48, -98, -49, 37, 22, 67, 70, 83, -53, -42, -6, -41, 34, 18, 83, -6, -51, 62, -7, -99, 66, 90, -76, 52, 47, -64, -58, -83, 82, -87, -66, 87, 48, 52, -8, 18, -95, -19, -7, -35, -10, -55, -38, 85, -30, -5, 35, -56, 76, 6, 59, -36, 73, 18, 79, -16, 75, -77, -12, -87, -99, -95, 57, -26, 55, -12, 20, 78, -72, 83, 0, -83, -18, -35, -6, -18, 13, 61, 49, -72, 77, -40, -54, 37, -12, 32, 48, 36, 78, -27, -10, 89, 65, -28, 33, 14, 64, -13, -76, 61, -83, 65, -86, -94, 95, 38, 59, 6, 58, -8, -9, 75, 7, 60, -83, 5, 87, -21, 24, 79, -89, -86, -44, -59, 40, -76, -83, 63, 91, -100, 12, 21, 65, -52, -50, 47, -15, 77, -5, -85, -19, -89, -93, -40, -10, -27, -13, -8, -50, 46, 77, 14, -52, 55, -76, 27, -50, -12, -95, 37, 70, 56, -28, 0, -29, -55, 3, -88, -20, 4, 14, -25, 69, 44, 53, -49, 12, 7, 66, 49, 53, 5, -31, -47, 78, 82, -6, -95, -29, -90, 89, 76, 39, -99, 40, -46, -21, 36, 48, -28, 84, 64, 96, -22, 20, 94, 31, -88, 2, -31, 65, -96, -60, -4, 76, -54, 5, -12, -69, -92, 13, -27, -47, -46, -99, -99, 72, -31, -37, -79, -10, -7, 25, -90, -61, 58, 11, -65, -42, 22, 35, 23, 24, -71, 99, 6, -57, -93, 81, -65, -43, 26, 94, -86, 57, 77, 73, 66, 100, 97, 60, -7, 100, 85, -42, -30, -30, -56, 100, -66, -33, 26, 37, 60, -26, -43, -43, -24, -74, -86, -23, 63, 1, -60, -73, 63, 60, 8, 58, -58, 41, -10, 88, -26, 87, -14, 49, 53, 20, 91, -12, 15, -39, -82, -7, 26, -58, 34, 31, 24, -70, 17, 99, 51, 13, -66, 22, 42, 0, -38, -31, 80, 10, 54, 86, -92, -62, -61, -8, -42, 62, 57, 54, 63, -64, 35, 33, -9, -6, -34, -88, -6, 46, -51, 63, -41, -83, 90, 28, 22, 50, 53, -99, -44, 28, 85, -31, -67, 10, 62, -71, 38, 4, -41, 55, 97, 39, -76, 4, 84, 69, 69, -62, 61, 96, -8, -91, 12, -90, -90, 86, 94, 25, -27, 16, -70, 18, -78, -100, -30, 2, 91, 17, -69, 34, -86, -1, -2, 73, -28, -43, 35, 93, 52, -15, -57, -61, 88, 34, -79, 92, -30, -62, -12, -70, -94, 0, -84, -6, -66, -57, -77, 53, -26, 64, -85, 17, -31, 81, -64, -85, -2, -57, -92, -3, -45, -72, -49, 64, -24, 62, -24, -74, 58, -17, 93, -33, 87, -68, 97, 28, 39, -4, 96, 71, -62, 7, -14, 16, 29, 27, -45, -11, -87, -92, 18, -28, 64, 65, -37, -92, 38, -49, -45, -29, -17, -18, 62, 8, 71, -40, -48, -79, -53, -41, -26, 47, 85, 61, 5, -49, -42, 38, 1, 30, 42, -19, -99, 71, 46, -31, 14, 88, 83, 12, 72, 70, 29, 57, -82, -78, 36, 76, 67, -16, 47, -66, 45, 43, 79, 98, 43, 81, 73, 7, 31, -62, 27, -32, -74, 58, 51, -20, -20, 8, -82, 43, 26, -42, 1, -33, -98, -100, -88, -67, 31, 74, -69, -100, 86, -63, 31, -99, -40, -37, -20, -78, 12, -15, -62, -83, -56, 26, 12, -59, -7, 98, 3, 88, -78, 93, -51, 33, -90, -69, -76, -80, -12, -58, -72, 74, 69, -89, -1, -86, -9, 31, 85, -4, -27, -6, -26, -83, 50, -94, -80, -71, 0, -8, -96, -60, -87, 8, -10, -100, -89, 12, 18, -6, 1, -70, 97, 95, -22, -43, -71, 10, -98, -75, 60, -22, 63, -2, -16, -82, 58, -73, -22, 49, 43, 46, 2, 24, 46, -96, 57, -96, 36, 2, 9, 35, -22, 64, -79, -40, 15, 34, 68, -26, 46, 100, 88, 33, 84, -44, -40, -46, -51, -48, -66, -84, 78, -61, 11, -73, 99, 27, -58, 40, -76, 69, 15, 60, -76, 58, 16, 66, 74, 4, 92, 67, -16, -88, -7, -62, -44, -39, -23, 41, -38, 41, 5, -78, 23, -10, -10, 15, -88, -65, -76, -81, -82, 27, -44, -55, -4, 2, 9, 36, -17, 29, -97, 68, -13, 99, 35, 68, 8, 50, 37, -33, 100, -64, -77, -85, 52, -87, -73, -39, 19, 9, 9, -29, 0, 21, -74, 9, 33, -47, 30, 28, 62, -78, -14, 15, 44, -49, -6, 21, 21, -68, -73, -95, -84, -36, -31, -36, -82, 25, -86, 25, 26, 56, 65, -34, -9, -64, 28, 79, 1, 29, 22, 19, -11, -72, -84, -16, 45, 84, -52, 15, -8, 97, -90, 16, -56, -30, 77, -18, 99, -31, 22, -76, -98, 78, -85, -75, 88, -29, -10, -74, 89, 56, 97, 99, 3, 97, 5, 52, -63, 89, 5, -9, 81, 41, 73, 89, -36, 89, 64, 26, -22, -18, 21, 41, -99, -48, -57, -56, 53, -23, 8, 23, -45, -33, -63, 78, 30, 55, -84, -31, -93, 47, 69, 10, -67, 92, -27, 56, 18, 80, 60, -51, 14, 59, -45, 91, -1, 15, 74, 72, -82, -99, 98, -26, -58, 100, -6, -8, -22, 77, -48, -46, -34, -32, 31, 6, 83, 41, -6, 9, -6, 96, 1, 50, -53, 62, -33, -64, -86, -49, -30, 87, 70, 35, -74, 97, -37, -26, -10, 32, -88, -55, -40, -54, -3, 33, 56, -53, -52, 57, -85, -57, -51, 79, 78, 80, 46, 61, 83, 50, -32, 49, -74, 5, -27, 47, -48, -69, 16, 63, -58, -86, 51, 6, 74, -90, 1, -1, 24, -17, -66, -64, 91, 67, -90, -88, 72, -81, 7, 62, 76, 79, -82, -50, 74, -17, -68, 4, -47, 62, -76, 3, -23, -74, -87, 62, 98, 91, 13, -81, -22, -94, 49, -14, -30, -14, 70, -59, 28, 62, 94, 12, -77, -22, -20, 42, -64, -8, -94, 91, 22, -9, 76, 19, -71, 37, 42, 70, 18, -51, -91, 10, 1, -36, -61, -74, 40, -17, 94, 60, 74, 61, -19, 37, 27, -17, 45, 25, 64, 20, -74, 22, -48, -9, 31, 15, 50, 99, 100, 97, 11, -65, -40, 54, 20, 93, 82, 38, -22, 65, -21, -1, -54, -58, 70, -78, 45, -99, 96, -2, -48, -47, -46, -91, -100, 45, 92, -90, 78, 63, -62, -35, 80, -81, 70, -50, -53, -79, 26, 95, 25, -15, -3, -95, -18, -76, -95, -87, -22, 30, -71, 42, -2, 87, -4, 39, 93, 76, 1, 13, 87, -46, 88, -4, 57, -86, -88, 30, -37, 95, -77, -89, -36, 1, -58, 63, -68, -45, 13, 28, 24, -75, 26, -74, -76, 12, 90, -74, -79, -78, 35, -57, 9, -5, 31, 78, 48, 87, 55, 60, -53, -43, -74, 55, -80, -73, -31, 30, 63, 53, -38, 28, -85, 69, 8, 0, 15, 69, 51, 21, -69, 13, 39, -85, -69, -98, 8, 41, -64, -53, 68, 35, 29, 98, 51, 20, 4, 77, -3, -82, 3, -5, 53, -21, 64, -64, 21, 39, -23, 78, 17, -1, -82, -52, -33, -58, 44, -51, -42, 91, 60, -11, 52, -11, -4, 33, 24, 69, -64, -38, 45, -97, -64, 12, 26, 76, -90, -82, 80, 83, 38, -82, 83, -90, -46, 89, 41, -8, 80, 73, 65, -55, 84, 25, 11, 59, 100, 29, 18, 68, 48, 57, -41, 39, -9, -64, 9, 2, -96, -12, -41, -37, -14, -81, -61, 34, 47, -41, 64, 26, 56, -73, -89, 2, 14, 43, 67, -31, -67, -24, -10, 48, 44, 94, 44, -69, 87, 1, 11, -19, 95, -3, -27, -94, 56, 12, 2, -24, -67, 92, -31, -65, -44, -41, 49, -34, -48, 51, 17, 62, 83, -56, -98, 75, 80, 43, 94, 14, 0, 55, 61, 21, -23, 23, -13, -46, -80, 69, 39, -64, 85, -88, 80, 90, 16, -14, 39, -10, -28, 83, 59, 57, 13, 65, 5, -100, -54, 31, -41, 98, 71, -67, -47, 84, -44, -95, -85, -34, 75, -60, -72, 93, -2, 17, 34, 18, -69, -78, -14, 78, 67, -99, -83, 70, 8, 78, 100, -56, 85, 59, -31, 12, 31, 22, 52, 74, -2, 41, -29, -64, 38, -95, 66, -31, -37, 9, -66, 21, -25, -88, -78, 53, -60, -100, 96, -12, 56, -47, 45, -68, -21, 52, 99, -10, 4, -24, -34, 16, 42, 47, -80, 72, 81, -70, -85, 92, 85, -66, 49, 24, -18, -34, -7, -98, -47, 16, 12, -5, -32, -15, 54, -95, -12, 47, 64, -93, 23, -71, 45, -48, -79, -47, -33, 8, -21, 52, -77, 86, 23, -33, -27, -23, -8, 45, 11, -56, 14, 94, -81, -65, 48, 92, -23, 87, 21, -4, -25, 86, 43};
        
                printf("#####START#####");
                int *ptr = copy_array_int(array, 1609);
                printf("#####END#####");
        
                
                
                    test_error(ptr != NULL, "Funkcja copy_array_int() powinna zwrócić adres przydzielonej pamięci, a zwróciła NULL");
                    onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)
                    
                
                
                        test_error(ptr != array, "Funkcja copy_array_int() powinna przydzielić pamięć na nową tablicę i jej adres zwrócić, a zwróciła adres tablicy przekazanej w parametrze");
                        for (int i = 0; i < 1609; ++i)
                        {
                            test_error(array[i] == ptr[i], "Funkcja copy_array_int() niepoprawnie skopiowała tablicę, różnica wystąpiła na pozycji %d; powinna być wartość %d, a jest %d", i, array[i], ptr[i]);
                            onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)
                        }                     
                        free(ptr);  
                

        
                test_no_heap_leakage();
                onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)
        
            
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}

//
//  Test 8: Sprawdzanie poprawności działania funkcji copy_array_int
//
void UTEST8(void)
{
    // informacje o teście
    test_start(8, "Sprawdzanie poprawności działania funkcji copy_array_int", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    
    //
    // -----------
    //
    
        
                int array[] = {40, 46, 52, 24, -100, -95, -72, 43, 11, 35, -33, -55, -18, 30, 62, -6, -74, 68, 15, 21, -39, 46, 1, -97, 51, 26, 99, 63, 85, 45, 91, 29, -24, 18, -21, 24, -51, -28, 23, 95, -7, -56, 19, 3, -47, -5, -30, 40, -85, -83, -3, -19, -67, -11, 92, -91, 25, -86, -19, 25, -67, -34, 63, -64, -70, -58, -20, 13, -8, 18, -39, 29, -34, -26, 88, -61, 6, 68, -13, 75, -80, 91, 43, 75, 55, 72, 94, 50, 33, -82, -54, -29, 34, 29, -7, -55, 93, 38, -28, -93, 38, -99, -75, 75, -53, 33, 32, 96, -22, -27, 62, 83, -41, 12, 63, 58, 60, 15, 84, -63, -3, 51, 89, -49, -80, -33, 69, 66, -14, -49, 77, -54, 13, 52, 62, -79, -90, 5, 64, -82, -17, 39, 34, 19, 52, 32, 3, -65, 85, -59, -76, -1, -52, -58, -72, 61, -70, -21, 79, 31, -97, -14, 30, -9, -57, -57, -32, -81, -14, 95, 82, -69, -79, -28, -60, 97, -81, -64, 48, -98, -49, 37, 22, 67, 70, 83, -53, -42, -6, -41, 34, 18, 83, -6, -51, 62, -7, -99, 66, 90, -76, 52, 47, -64, -58, -83, 82, -87, -66, 87, 48, 52, -8, 18, -95, -19, -7, -35, -10, -55, -38, 85, -30, -5, 35, -56, 76, 6, 59, -36, 73, 18, 79, -16, 75, -77, -12, -87, -99, -95, 57, -26, 55, -12, 20, 78, -72, 83, 0, -83, -18, -35, -6, -18, 13, 61, 49, -72, 77, -40, -54, 37, -12, 32, 48, 36, 78, -27, -10, 89, 65, -28, 33, 14, 64, -13, -76, 61, -83, 65, -86, -94, 95, 38, 59, 6, 58, -8, -9, 75, 7, 60, -83, 5, 87, -21, 24, 79, -89, -86, -44, -59, 40, -76, -83, 63, 91, -100, 12, 21, 65, -52, -50, 47, -15, 77, -5, -85, -19, -89, -93, -40, -10, -27, -13, -8, -50, 46, 77, 14, -52, 55, -76, 27, -50, -12, -95, 37, 70, 56, -28, 0, -29, -55, 3, -88, -20, 4, 14, -25, 69, 44, 53, -49, 12, 7, 66, 49, 53, 5, -31, -47, 78, 82, -6, -95, -29, -90, 89, 76, 39, -99, 40, -46, -21, 36, 48, -28, 84, 64, 96, -22, 20, 94, 31, -88, 2, -31, 65, -96, -60, -4, 76, -54, 5, -12, -69, -92, 13, -27, -47, -46, -99, -99, 72, -31, -37, -79, -10, -7, 25, -90, -61, 58, 11, -65, -42, 22, 35, 23, 24, -71, 99, 6, -57, -93, 81, -65, -43, 26, 94, -86, 57, 77, 73, 66, 100, 97, 60, -7, 100, 85, -42, -30, -30, -56, 100, -66, -33, 26, 37, 60, -26, -43, -43, -24, -74, -86, -23, 63, 1, -60, -73, 63, 60, 8, 58, -58, 41, -10, 88, -26, 87, -14, 49, 53, 20, 91, -12, 15, -39, -82, -7, 26, -58, 34, 31, 24, -70, 17, 99, 51, 13, -66, 22, 42, 0, -38, -31, 80, 10, 54, 86, -92, -62, -61, -8, -42, 62, 57, 54, 63, -64, 35, 33, -9, -6, -34, -88, -6, 46, -51, 63, -41, -83, 90, 28, 22, 50, 53, -99, -44, 28, 85, -31, -67, 10, 62, -71, 38, 4, -41, 55, 97, 39, -76, 4, 84, 69, 69, -62, 61, 96, -8, -91, 12, -90, -90, 86, 94, 25, -27, 16, -70, 18, -78, -100, -30, 2, 91, 17, -69, 34, -86, -1, -2, 73, -28, -43, 35, 93, 52, -15, -57, -61, 88, 34, -79, 92, -30, -62, -12, -70, -94, 0, -84, -6, -66, -57, -77, 53, -26, 64, -85, 17, -31, 81, -64, -85, -2, -57, -92, -3, -45, -72, -49, 64, -24, 62, -24, -74, 58, -17, 93, -33, 87, -68, 97, 28, 39, -4, 96, 71, -62, 7, -14, 16, 29, 27, -45, -11, -87, -92, 18, -28, 64, 65, -37, -92, 38, -49, -45, -29, -17, -18, 62, 8, 71, -40, -48, -79, -53, -41, -26, 47, 85, 61, 5, -49, -42, 38, 1, 30, 42, -19, -99, 71, 46, -31, 14, 88, 83, 12, 72, 70, 29, 57, -82, -78, 36, 76, 67, -16, 47, -66, 45, 43, 79, 98, 43, 81, 73, 7, 31, -62, 27, -32, -74, 58, 51, -20, -20, 8, -82, 43, 26, -42, 1, -33, -98, -100, -88, -67, 31, 74, -69, -100, 86, -63, 31, -99, -40, -37, -20, -78, 12, -15, -62, -83, -56, 26, 12, -59, -7, 98, 3, 88, -78, 93, -51, 33, -90, -69, -76, -80, -12, -58, -72, 74, 69, -89, -1, -86, -9, 31, 85, -4, -27, -6, -26, -83, 50, -94, -80, -71, 0, -8, -96, -60, -87, 8, -10, -100, -89, 12, 18, -6, 1, -70, 97, 95, -22, -43, -71, 10, -98, -75, 60, -22, 63, -2, -16, -82, 58, -73, -22, 49, 43, 46, 2, 24, 46, -96, 57, -96, 36, 2, 9, 35, -22, 64, -79, -40, 15, 34, 68, -26, 46, 100, 88, 33, 84, -44, -40, -46, -51, -48, -66, -84, 78, -61, 11, -73, 99, 27, -58, 40, -76, 69, 15, 60, -76, 58, 16, 66, 74, 4, 92, 67, -16, -88, -7, -62, -44, -39, -23, 41, -38, 41, 5, -78, 23, -10, -10, 15, -88, -65, -76, -81, -82, 27, -44, -55, -4, 2, 9, 36, -17, 29, -97, 68, -13, 99, 35, 68, 8, 50, 37, -33, 100, -64, -77, -85, 52, -87, -73, -39, 19, 9, 9, -29, 0, 21, -74, 9, 33, -47, 30, 28, 62, -78, -14, 15, 44, -49, -6, 21, 21, -68, -73, -95, -84, -36, -31, -36, -82, 25, -86, 25, 26, 56, 65, -34, -9, -64, 28, 79, 1, 29, 22, 19, -11, -72, -84, -16, 45, 84, -52, 15, -8, 97, -90, 16, -56, -30, 77, -18, 99, -31, 22, -76, -98, 78, -85, -75, 88, -29, -10, -74, 89, 56, 97, 99, 3, 97, 5, 52, -63, 89, 5, -9, 81, 41, 73, 89, -36, 89, 64, 26, -22, -18, 21, 41, -99, -48, -57, -56, 53, -23, 8, 23, -45, -33, -63, 78, 30, 55, -84, -31, -93, 47, 69, 10, -67, 92, -27, 56, 18, 80, 60, -51, 14, 59, -45, 91, -1, 15, 74, 72, -82, -99, 98, -26, -58, 100, -6, -8, -22, 77, -48, -46, -34, -32, 31, 6, 83, 41, -6, 9, -6, 96, 1, 50, -53, 62, -33, -64, -86, -49, -30, 87, 70, 35, -74, 97, -37, -26, -10, 32, -88, -55, -40, -54, -3, 33, 56, -53, -52, 57, -85, -57, -51, 79, 78, 80, 46, 61, 83, 50, -32, 49, -74, 5, -27, 47, -48, -69, 16, 63, -58, -86, 51, 6, 74, -90, 1, -1, 24, -17, -66, -64, 91, 67, -90, -88, 72, -81, 7, 62, 76, 79, -82, -50, 74, -17, -68, 4, -47, 62, -76, 3, -23, -74, -87, 62, 98, 91, 13, -81, -22, -94, 49, -14, -30, -14, 70, -59, 28, 62, 94, 12, -77, -22, -20, 42, -64, -8, -94, 91, 22, -9, 76, 19, -71, 37, 42, 70, 18, -51, -91, 10, 1, -36, -61, -74, 40, -17, 94, 60, 74, 61, -19, 37, 27, -17, 45, 25, 64, 20, -74, 22, -48, -9, 31, 15, 50, 99, 100, 97, 11, -65, -40, 54, 20, 93, 82, 38, -22, 65, -21, -1, -54, -58, 70, -78, 45, -99, 96, -2, -48, -47, -46, -91, -100, 45, 92, -90, 78, 63, -62, -35, 80, -81, 70, -50, -53, -79, 26, 95, 25, -15, -3, -95, -18, -76, -95, -87, -22, 30, -71, 42, -2, 87, -4, 39, 93, 76, 1, 13, 87, -46, 88, -4, 57, -86, -88, 30, -37, 95, -77, -89, -36, 1, -58, 63, -68, -45, 13, 28, 24, -75, 26, -74, -76, 12, 90, -74, -79, -78, 35, -57, 9, -5, 31, 78, 48, 87, 55, 60, -53, -43, -74, 55, -80, -73, -31, 30, 63, 53, -38, 28, -85, 69, 8, 0, 15, 69, 51, 21, -69, 13, 39, -85, -69, -98, 8, 41, -64, -53, 68, 35, 29, 98, 51, 20, 4, 77, -3, -82, 3, -5, 53, -21, 64, -64, 21, 39, -23, 78, 17, -1, -82, -52, -33, -58, 44, -51, -42, 91, 60, -11, 52, -11, -4, 33, 24, 69, -64, -38, 45, -97, -64, 12, 26, 76, -90, -82, 80, 83, 38, -82, 83, -90, -46, 89, 41, -8, 80, 73, 65, -55, 84, 25, 11, 59, 100, 29, 18, 68, 48, 57, -41, 39, -9, -64, 9, 2, -96, -12, -41, -37, -14, -81, -61, 34, 47, -41, 64, 26, 56, -73, -89, 2, 14, 43, 67, -31, -67, -24, -10, 48, 44, 94, 44, -69, 87, 1, 11, -19, 95, -3, -27, -94, 56, 12, 2, -24, -67, 92, -31, -65, -44, -41, 49, -34, -48, 51, 17, 62, 83, -56, -98, 75, 80, 43, 94, 14, 0, 55, 61, 21, -23, 23, -13, -46, -80, 69, 39, -64, 85, -88, 80, 90, 16, -14, 39, -10, -28, 83, 59, 57, 13, 65, 5, -100, -54, 31, -41, 98, 71, -67, -47, 84, -44, -95, -85, -34, 75, -60, -72, 93, -2, 17, 34, 18, -69, -78, -14, 78, 67, -99, -83, 70, 8, 78, 100, -56, 85, 59, -31, 12, 31, 22, 52, 74, -2, 41, -29, -64, 38, -95, 66, -31, -37, 9, -66, 21, -25, -88, -78, 53, -60, -100, 96, -12, 56, -47, 45, -68, -21, 52, 99, -10, 4, -24, -34, 16, 42, 47, -80, 72, 81, -70, -85, 92, 85, -66, 49, 24, -18, -34, -7, -98, -47, 16, 12, -5, -32, -15, 54, -95, -12, 47, 64, -93, 23, -71, 45, -48, -79, -47, -33, 8, -21, 52, -77, 86, 23, -33, -27, -23, -8, 45, 11, -56, 14, 94, -81, -65, 48, 92, -23, 87, 21, -4, -25, 86, 43};
        
                printf("#####START#####");
                int *ptr = copy_array_int(array, -1609);
                printf("#####END#####");
        
                test_error(ptr == NULL, "Funkcja copy_array_int() powinna zwrócić NULL");
                

        
                test_no_heap_leakage();
                onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)
        
            
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}

//
//  Test 9: Sprawdzanie poprawności działania funkcji copy_array_int
//
void UTEST9(void)
{
    // informacje o teście
    test_start(9, "Sprawdzanie poprawności działania funkcji copy_array_int", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    
    //
    // -----------
    //
    
        
                int array[] = {40, 46, 52, 24, -100, -95, -72, 43, 11, 35, -33, -55, -18, 30, 62, -6, -74, 68, 15, 21, -39, 46, 1, -97, 51, 26, 99, 63, 85, 45, 91, 29, -24, 18, -21, 24, -51, -28, 23, 95, -7, -56, 19, 3, -47, -5, -30, 40, -85, -83, -3, -19, -67, -11, 92, -91, 25, -86, -19, 25, -67, -34, 63, -64, -70, -58, -20, 13, -8, 18, -39, 29, -34, -26, 88, -61, 6, 68, -13, 75, -80, 91, 43, 75, 55, 72, 94, 50, 33, -82, -54, -29, 34, 29, -7, -55, 93, 38, -28, -93, 38, -99, -75, 75, -53, 33, 32, 96, -22, -27, 62, 83, -41, 12, 63, 58, 60, 15, 84, -63, -3, 51, 89, -49, -80, -33, 69, 66, -14, -49, 77, -54, 13, 52, 62, -79, -90, 5, 64, -82, -17, 39, 34, 19, 52, 32, 3, -65, 85, -59, -76, -1, -52, -58, -72, 61, -70, -21, 79, 31, -97, -14, 30, -9, -57, -57, -32, -81, -14, 95, 82, -69, -79, -28, -60, 97, -81, -64, 48, -98, -49, 37, 22, 67, 70, 83, -53, -42, -6, -41, 34, 18, 83, -6, -51, 62, -7, -99, 66, 90, -76, 52, 47, -64, -58, -83, 82, -87, -66, 87, 48, 52, -8, 18, -95, -19, -7, -35, -10, -55, -38, 85, -30, -5, 35, -56, 76, 6, 59, -36, 73, 18, 79, -16, 75, -77, -12, -87, -99, -95, 57, -26, 55, -12, 20, 78, -72, 83, 0, -83, -18, -35, -6, -18, 13, 61, 49, -72, 77, -40, -54, 37, -12, 32, 48, 36, 78, -27, -10, 89, 65, -28, 33, 14, 64, -13, -76, 61, -83, 65, -86, -94, 95, 38, 59, 6, 58, -8, -9, 75, 7, 60, -83, 5, 87, -21, 24, 79, -89, -86, -44, -59, 40, -76, -83, 63, 91, -100, 12, 21, 65, -52, -50, 47, -15, 77, -5, -85, -19, -89, -93, -40, -10, -27, -13, -8, -50, 46, 77, 14, -52, 55, -76, 27, -50, -12, -95, 37, 70, 56, -28, 0, -29, -55, 3, -88, -20, 4, 14, -25, 69, 44, 53, -49, 12, 7, 66, 49, 53, 5, -31, -47, 78, 82, -6, -95, -29, -90, 89, 76, 39, -99, 40, -46, -21, 36, 48, -28, 84, 64, 96, -22, 20, 94, 31, -88, 2, -31, 65, -96, -60, -4, 76, -54, 5, -12, -69, -92, 13, -27, -47, -46, -99, -99, 72, -31, -37, -79, -10, -7, 25, -90, -61, 58, 11, -65, -42, 22, 35, 23, 24, -71, 99, 6, -57, -93, 81, -65, -43, 26, 94, -86, 57, 77, 73, 66, 100, 97, 60, -7, 100, 85, -42, -30, -30, -56, 100, -66, -33, 26, 37, 60, -26, -43, -43, -24, -74, -86, -23, 63, 1, -60, -73, 63, 60, 8, 58, -58, 41, -10, 88, -26, 87, -14, 49, 53, 20, 91, -12, 15, -39, -82, -7, 26, -58, 34, 31, 24, -70, 17, 99, 51, 13, -66, 22, 42, 0, -38, -31, 80, 10, 54, 86, -92, -62, -61, -8, -42, 62, 57, 54, 63, -64, 35, 33, -9, -6, -34, -88, -6, 46, -51, 63, -41, -83, 90, 28, 22, 50, 53, -99, -44, 28, 85, -31, -67, 10, 62, -71, 38, 4, -41, 55, 97, 39, -76, 4, 84, 69, 69, -62, 61, 96, -8, -91, 12, -90, -90, 86, 94, 25, -27, 16, -70, 18, -78, -100, -30, 2, 91, 17, -69, 34, -86, -1, -2, 73, -28, -43, 35, 93, 52, -15, -57, -61, 88, 34, -79, 92, -30, -62, -12, -70, -94, 0, -84, -6, -66, -57, -77, 53, -26, 64, -85, 17, -31, 81, -64, -85, -2, -57, -92, -3, -45, -72, -49, 64, -24, 62, -24, -74, 58, -17, 93, -33, 87, -68, 97, 28, 39, -4, 96, 71, -62, 7, -14, 16, 29, 27, -45, -11, -87, -92, 18, -28, 64, 65, -37, -92, 38, -49, -45, -29, -17, -18, 62, 8, 71, -40, -48, -79, -53, -41, -26, 47, 85, 61, 5, -49, -42, 38, 1, 30, 42, -19, -99, 71, 46, -31, 14, 88, 83, 12, 72, 70, 29, 57, -82, -78, 36, 76, 67, -16, 47, -66, 45, 43, 79, 98, 43, 81, 73, 7, 31, -62, 27, -32, -74, 58, 51, -20, -20, 8, -82, 43, 26, -42, 1, -33, -98, -100, -88, -67, 31, 74, -69, -100, 86, -63, 31, -99, -40, -37, -20, -78, 12, -15, -62, -83, -56, 26, 12, -59, -7, 98, 3, 88, -78, 93, -51, 33, -90, -69, -76, -80, -12, -58, -72, 74, 69, -89, -1, -86, -9, 31, 85, -4, -27, -6, -26, -83, 50, -94, -80, -71, 0, -8, -96, -60, -87, 8, -10, -100, -89, 12, 18, -6, 1, -70, 97, 95, -22, -43, -71, 10, -98, -75, 60, -22, 63, -2, -16, -82, 58, -73, -22, 49, 43, 46, 2, 24, 46, -96, 57, -96, 36, 2, 9, 35, -22, 64, -79, -40, 15, 34, 68, -26, 46, 100, 88, 33, 84, -44, -40, -46, -51, -48, -66, -84, 78, -61, 11, -73, 99, 27, -58, 40, -76, 69, 15, 60, -76, 58, 16, 66, 74, 4, 92, 67, -16, -88, -7, -62, -44, -39, -23, 41, -38, 41, 5, -78, 23, -10, -10, 15, -88, -65, -76, -81, -82, 27, -44, -55, -4, 2, 9, 36, -17, 29, -97, 68, -13, 99, 35, 68, 8, 50, 37, -33, 100, -64, -77, -85, 52, -87, -73, -39, 19, 9, 9, -29, 0, 21, -74, 9, 33, -47, 30, 28, 62, -78, -14, 15, 44, -49, -6, 21, 21, -68, -73, -95, -84, -36, -31, -36, -82, 25, -86, 25, 26, 56, 65, -34, -9, -64, 28, 79, 1, 29, 22, 19, -11, -72, -84, -16, 45, 84, -52, 15, -8, 97, -90, 16, -56, -30, 77, -18, 99, -31, 22, -76, -98, 78, -85, -75, 88, -29, -10, -74, 89, 56, 97, 99, 3, 97, 5, 52, -63, 89, 5, -9, 81, 41, 73, 89, -36, 89, 64, 26, -22, -18, 21, 41, -99, -48, -57, -56, 53, -23, 8, 23, -45, -33, -63, 78, 30, 55, -84, -31, -93, 47, 69, 10, -67, 92, -27, 56, 18, 80, 60, -51, 14, 59, -45, 91, -1, 15, 74, 72, -82, -99, 98, -26, -58, 100, -6, -8, -22, 77, -48, -46, -34, -32, 31, 6, 83, 41, -6, 9, -6, 96, 1, 50, -53, 62, -33, -64, -86, -49, -30, 87, 70, 35, -74, 97, -37, -26, -10, 32, -88, -55, -40, -54, -3, 33, 56, -53, -52, 57, -85, -57, -51, 79, 78, 80, 46, 61, 83, 50, -32, 49, -74, 5, -27, 47, -48, -69, 16, 63, -58, -86, 51, 6, 74, -90, 1, -1, 24, -17, -66, -64, 91, 67, -90, -88, 72, -81, 7, 62, 76, 79, -82, -50, 74, -17, -68, 4, -47, 62, -76, 3, -23, -74, -87, 62, 98, 91, 13, -81, -22, -94, 49, -14, -30, -14, 70, -59, 28, 62, 94, 12, -77, -22, -20, 42, -64, -8, -94, 91, 22, -9, 76, 19, -71, 37, 42, 70, 18, -51, -91, 10, 1, -36, -61, -74, 40, -17, 94, 60, 74, 61, -19, 37, 27, -17, 45, 25, 64, 20, -74, 22, -48, -9, 31, 15, 50, 99, 100, 97, 11, -65, -40, 54, 20, 93, 82, 38, -22, 65, -21, -1, -54, -58, 70, -78, 45, -99, 96, -2, -48, -47, -46, -91, -100, 45, 92, -90, 78, 63, -62, -35, 80, -81, 70, -50, -53, -79, 26, 95, 25, -15, -3, -95, -18, -76, -95, -87, -22, 30, -71, 42, -2, 87, -4, 39, 93, 76, 1, 13, 87, -46, 88, -4, 57, -86, -88, 30, -37, 95, -77, -89, -36, 1, -58, 63, -68, -45, 13, 28, 24, -75, 26, -74, -76, 12, 90, -74, -79, -78, 35, -57, 9, -5, 31, 78, 48, 87, 55, 60, -53, -43, -74, 55, -80, -73, -31, 30, 63, 53, -38, 28, -85, 69, 8, 0, 15, 69, 51, 21, -69, 13, 39, -85, -69, -98, 8, 41, -64, -53, 68, 35, 29, 98, 51, 20, 4, 77, -3, -82, 3, -5, 53, -21, 64, -64, 21, 39, -23, 78, 17, -1, -82, -52, -33, -58, 44, -51, -42, 91, 60, -11, 52, -11, -4, 33, 24, 69, -64, -38, 45, -97, -64, 12, 26, 76, -90, -82, 80, 83, 38, -82, 83, -90, -46, 89, 41, -8, 80, 73, 65, -55, 84, 25, 11, 59, 100, 29, 18, 68, 48, 57, -41, 39, -9, -64, 9, 2, -96, -12, -41, -37, -14, -81, -61, 34, 47, -41, 64, 26, 56, -73, -89, 2, 14, 43, 67, -31, -67, -24, -10, 48, 44, 94, 44, -69, 87, 1, 11, -19, 95, -3, -27, -94, 56, 12, 2, -24, -67, 92, -31, -65, -44, -41, 49, -34, -48, 51, 17, 62, 83, -56, -98, 75, 80, 43, 94, 14, 0, 55, 61, 21, -23, 23, -13, -46, -80, 69, 39, -64, 85, -88, 80, 90, 16, -14, 39, -10, -28, 83, 59, 57, 13, 65, 5, -100, -54, 31, -41, 98, 71, -67, -47, 84, -44, -95, -85, -34, 75, -60, -72, 93, -2, 17, 34, 18, -69, -78, -14, 78, 67, -99, -83, 70, 8, 78, 100, -56, 85, 59, -31, 12, 31, 22, 52, 74, -2, 41, -29, -64, 38, -95, 66, -31, -37, 9, -66, 21, -25, -88, -78, 53, -60, -100, 96, -12, 56, -47, 45, -68, -21, 52, 99, -10, 4, -24, -34, 16, 42, 47, -80, 72, 81, -70, -85, 92, 85, -66, 49, 24, -18, -34, -7, -98, -47, 16, 12, -5, -32, -15, 54, -95, -12, 47, 64, -93, 23, -71, 45, -48, -79, -47, -33, 8, -21, 52, -77, 86, 23, -33, -27, -23, -8, 45, 11, -56, 14, 94, -81, -65, 48, 92, -23, 87, 21, -4, -25, 86, 43};
        
                printf("#####START#####");
                int *ptr = copy_array_int(array, 0);
                printf("#####END#####");
        
                test_error(ptr == NULL, "Funkcja copy_array_int() powinna zwrócić NULL");
                

        
                test_no_heap_leakage();
                onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)
        
            
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}

//
//  Test 10: Sprawdzanie reakcji funkcji create_array_int na limit pamięci (limit sterty ustawiono na 44 bajtów)
//
void UTEST10(void)
{
    // informacje o teście
    test_start(10, "Sprawdzanie reakcji funkcji create_array_int na limit pamięci (limit sterty ustawiono na 44 bajtów)", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    rldebug_heap_set_global_limit(44);
    
    //
    // -----------
    //
    
        
                int array[] = {-87, -90, 93, -50, 88, 40, -2, 60, 12, -87, 59};

                printf("#####START#####");
                int *ptr = copy_array_int(array, 11);
                printf("#####END#####");

                test_error(ptr != array, "Funkcja copy_array_int() powinna przydzielić pamięć na nową tablicę i jej adres zwrócić, a zwróciła adres tablicy przekazanej w parametrze");
                test_error(ptr != NULL, "Funkcja create_array_int() powinna zwrócić adres zaalokowanej pamięci, a zwróciła NULL");
                onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)

                for (int i = 0; i < 11; ++i)
                {
                    test_error(array[i] == ptr[i], "Funkcja copy_array_int() niepoprawnie skopiowała tablicę, różnica wystąpiła na pozycji %d; powinna być wartość %d, a jest %d", i, array[i], ptr[i]);
                    onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)
                }                     
                free(ptr);  

                test_no_heap_leakage();
                onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)

            
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}

//
//  Test 11: Sprawdzanie reakcji funkcji create_array_int na limit pamięci (limit sterty ustawiono na 33 bajtów)
//
void UTEST11(void)
{
    // informacje o teście
    test_start(11, "Sprawdzanie reakcji funkcji create_array_int na limit pamięci (limit sterty ustawiono na 33 bajtów)", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    rldebug_heap_set_global_limit(33);
    
    //
    // -----------
    //
    

                int array[] = {-87, -90, 93, -50, 88, 40, -2, 60, 12, -87, 59};

                printf("#####START#####");
                int *ptr = copy_array_int(array, 11);
                printf("#####END#####");

                test_error(ptr == NULL, "Funkcja copy_array_int() powinna zwrócić NULL");

                test_no_heap_leakage();
                onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)
            
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}

//
//  Test 12: Sprawdzanie poprawności działania funkcji copy_array_int
//
void UTEST12(void)
{
    // informacje o teście
    test_start(12, "Sprawdzanie poprawności działania funkcji copy_array_int", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    
    //
    // -----------
    //
    

                printf("#####START#####");
                int *ptr = copy_array_int(NULL, 11);
                printf("#####END#####");

                test_error(ptr == NULL, "Funkcja copy_array_int() powinna zwrócić NULL");

                test_no_heap_leakage();
                onerror_terminate(); // przerwanie wszystkich testów jednostkowych (np. coś jest mocno nie tak z kodem)

        
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}

//
//  Test 13: Sprawdzanie poprawności działania funkcji display_array_int
//
void UTEST13(void)
{
    // informacje o teście
    test_start(13, "Sprawdzanie poprawności działania funkcji display_array_int", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    
    //
    // -----------
    //
    

            int array[] = {-87, -90, 93, -50, 88, 40, -2, 60, 12, -87, 59};

            printf("***START***\n");
            display_array_int(NULL, 11);
            printf("***END***\n");

            printf("***START***\n");
            display_array_int(array, 0);
            printf("***END***\n");

            printf("***START***\n");
            display_array_int(array, -11);
            printf("***END***\n");

            printf("***START***\n");
            display_array_int(array, 11);
            printf("***END***\n");

            printf("***START***\n");
            display_array_int(array, 10);
            printf("***END***\n");

        
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}



//
//  Test 1: Reakcja na brak pamięci (limit sterty ustawiono na 7 bajtów)
//
void MTEST1(int argc, char** argv, char** envp)
{
    // informacje o teście
    test_start(1, "Reakcja na brak pamięci (limit sterty ustawiono na 7 bajtów)", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    rldebug_heap_set_global_limit(7);
    
    //
    // -----------
    //
    
            printf("***START***\n");
            int ret_code = tested_main(argc, argv, envp);
            printf("\n***END***\n");
            test_error(ret_code == 8, "Funkcja main zakończyła się kodem %d a powinna 8", ret_code); 
        
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}

//
//  Test 2: Reakcja na brak pamięci  (limit sterty ustawiono na 21 bajtów)
//
void MTEST2(int argc, char** argv, char** envp)
{
    // informacje o teście
    test_start(2, "Reakcja na brak pamięci  (limit sterty ustawiono na 21 bajtów)", __LINE__);

    // uwarunkowanie zasobów - pamięci, itd...
    test_file_write_limit_setup(33554432);
    rldebug_reset_limits();
    rldebug_heap_set_global_limit(21);
    
    //
    // -----------
    //
    
            printf("***START***\n");
            int ret_code = rdebug_call_main(tested_main, argc, argv, envp);
            printf("\n***END***\n");
            test_error(ret_code == 8, "Funkcja main zakończyła się kodem %d a powinna 8", ret_code);
        
    //
    // -----------
    //

    // przywrócenie podstawowych parametów przydzielania zasobów (jeśli to tylko możliwe)
    rldebug_reset_limits();
    test_file_write_limit_restore();
    
    test_ok();
}


enum run_mode_t { rm_normal_with_rld = 0, rm_unit_test = 1, rm_main_test = 2 };

int __wrap_main(volatile int _argc, char** _argv, char** _envp)
{
    int volatile vargc = _argc;
    char ** volatile vargv = _argv, ** volatile venvp = _envp;
	volatile enum run_mode_t run_mode = rm_unit_test; // -1
	volatile int selected_test = -1;

    if (vargc > 1)
	{
	    char* smode = strtok(vargv[1], ",");
	    char* stest = strtok(NULL, "");
		char *errptr = NULL;
		run_mode = (enum run_mode_t)strtol(smode, &errptr, 10);
		if (*errptr == '\x0')
		{
			memmove(vargv + 1, vargv + 2, sizeof(char*) * (vargc - 1));
			vargc--;

			if (stest != NULL)
			{
			    int val = (int)strtol(stest, &errptr, 10);
			    if (*errptr == '\x0')
			        selected_test = val;
			}
		}
	}

    // printf("runmode=%d; selected_test=%d\n", run_mode, selected_test);

    // inicjuj testy jednostkowe
    unit_test_init(run_mode, "unit_test_v2.c");
    test_limit_init();
    rldebug_set_reported_severity_level(MSL_FAILURE);

    if (run_mode == rm_normal_with_rld)
    {
        // konfiguracja ograniczników
        rldebug_reset_limits();
        

        // uruchom funkcję main Studenta a potem wyświetl podsumowanie sterty i zasobów
        volatile int ret_code = rdebug_call_main(tested_main, vargc, vargv, venvp);

        rldebug_reset_limits();
        

        int leaks_detected = rldebug_show_leaked_resources(0);
        if (leaks_detected)
            raise(SIGHEAP);

        return ret_code;
    }

    
    if (run_mode == rm_unit_test)
    {
        test_title("Testy jednostkowe");

        void (*pfcn[])(void) =
        { 
            UTEST1, // Sprawdzanie poprawności działania funkcji create_array_int
            UTEST2, // Sprawdzanie poprawności działania funkcji create_array_int
            UTEST3, // Sprawdzanie poprawności działania funkcji create_array_int
            UTEST4, // Sprawdzanie reakcji funkcji create_array_int na limit pamięci (limit sterty ustawiono na 116 bajtów)
            UTEST5, // Sprawdzanie reakcji funkcji create_array_int na limit pamięci (limit sterty ustawiono na 93 bajtów)
            UTEST6, // Sprawdzanie poprawności działania funkcji copy_array_int
            UTEST7, // Sprawdzanie poprawności działania funkcji copy_array_int
            UTEST8, // Sprawdzanie poprawności działania funkcji copy_array_int
            UTEST9, // Sprawdzanie poprawności działania funkcji copy_array_int
            UTEST10, // Sprawdzanie reakcji funkcji create_array_int na limit pamięci (limit sterty ustawiono na 44 bajtów)
            UTEST11, // Sprawdzanie reakcji funkcji create_array_int na limit pamięci (limit sterty ustawiono na 33 bajtów)
            UTEST12, // Sprawdzanie poprawności działania funkcji copy_array_int
            UTEST13, // Sprawdzanie poprawności działania funkcji display_array_int
            NULL
        };

        for (int idx = 0; pfcn[idx] != NULL && !test_get_session_termination_flag(); idx++)
        {
            if (selected_test == -1 || selected_test == idx + 1)
                pfcn[idx]();

            // limit niezaliczonych testów, po jakim testy jednostkowe zostaną przerwane
            if (test_session_get_fail_count() >= 1000)
                test_terminate_session();
        }


        test_title("RLDebug :: Analiza wycieku zasobów");
        // sprawdź wycieki pamięci
        int leaks_detected = rldebug_show_leaked_resources(1);
        test_set_session_leaks(leaks_detected);

        // poinformuj serwer Mrówka o wyniku testu - podsumowanie
        test_title("Podsumowanie");
        if (selected_test == -1)
            test_summary(13); // wszystkie testy muszą zakończyć się sukcesem
        else
            test_summary(1); // tylko jeden (selected_test) test musi zakończyć się  sukcesem
        return EXIT_SUCCESS;
    }
    

    if (run_mode == rm_main_test)
    {
        test_title("Testy funkcji main()");

        void (*pfcn[])(int, char**, char**) =
        { 
            MTEST1, // Reakcja na brak pamięci (limit sterty ustawiono na 7 bajtów)
            MTEST2, // Reakcja na brak pamięci  (limit sterty ustawiono na 21 bajtów)
            NULL
        };

        for (volatile int idx = 0; pfcn[idx] != NULL && !test_get_session_termination_flag(); idx++)
        {
            if (selected_test == -1 || selected_test == idx + 1)
                pfcn[idx](vargc, vargv, venvp);

            // limit niezaliczonych testów, po jakim testy jednostkowe zostaną przerwane
            if (test_session_get_fail_count() >= 1000)
                test_terminate_session();
        }


        test_title("RLDebug :: Analiza wycieku zasobów");
        // sprawdź wycieki pamięci
        int leaks_detected = rldebug_show_leaked_resources(1);
        test_set_session_leaks(leaks_detected);

        // poinformuj serwer Mrówka o wyniku testu - podsumowanie
        test_title("Podsumowanie");
        if (selected_test == -1)
            test_summary(2); // wszystkie testy muszą zakończyć się sukcesem
        else
            test_summary(1); // tylko jeden (selected_test) test musi zakończyć się  sukcesem

        return EXIT_SUCCESS;
    }

    printf("*** Nieznana wartość RunMode: %d", (int)run_mode);
    abort();
}